# Plan: App Flotante de Procesos - "LITPER Tracker"

## Concepto
App de escritorio flotante (siempre visible) para registro r√°pido de trabajo.
Como una calculadora o notas adhesivas que siempre est√° encima de todo.

---

## Caracter√≠sticas Principales

### 1. Ventana Flotante
- **Siempre encima** de todas las aplicaciones
- **Arrastrable** a cualquier posici√≥n de la pantalla
- **Minimizable** a un peque√±o icono/bot√≥n
- **Redimensionable** (compacto o expandido)
- **Transparencia ajustable** para no estorbar
- **Posici√≥n recordada** al cerrar y abrir

### 2. Interfaz Ultra-Eficiente
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚è±Ô∏è 24:35  [‚ñ∂Ô∏è] [‚è∏Ô∏è] [üîÑ]    [_][X] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Ronda #3                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Iniciales    [-] 25 [+]            ‚îÇ
‚îÇ  ‚úÖ Realizado [-] 18 [+]            ‚îÇ
‚îÇ  ‚ùå Cancelado [-]  3 [+]            ‚îÇ
‚îÇ  üìÖ Agendado  [-]  2 [+]            ‚îÇ
‚îÇ  ‚ö†Ô∏è Dif√≠ciles [-]  1 [+]            ‚îÇ
‚îÇ  ‚è≥ Pendientes[-]  1 [+]            ‚îÇ
‚îÇ  üëÅÔ∏è Revisado  [-]  0 [+]            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  [    üíæ GUARDAR RONDA    ]         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3. Controles R√°pidos
| Acci√≥n | M√©todo |
|--------|--------|
| Sumar +1 | Click en [+] |
| Sumar +5 | Click derecho en [+] |
| Restar -1 | Click en [-] |
| Restar -5 | Click derecho en [-] |
| Valor directo | Click en n√∫mero ‚Üí escribir |
| Atajos teclado | R=Realizado, C=Cancelado, etc. |

### 4. Modos de Vista

#### Modo Compacto (Mini)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚è±Ô∏è 24:35  ‚úÖ 18 ‚îÇ
‚îÇ [+1] [+5] [üíæ]  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
- Solo muestra timer y "Realizado"
- Botones r√°pidos para sumar
- Expandir con doble click

#### Modo Normal
- Todos los campos visibles
- Controles +/- para cada uno

#### Modo Expandido
- Incluye notas
- Historial del d√≠a
- Gr√°fico de progreso

### 5. Funciones Adicionales

#### Atajos de Teclado Globales
- `Ctrl+Shift+P` ‚Üí Mostrar/ocultar app
- `Ctrl+Shift+S` ‚Üí Guardar ronda r√°pido
- `Ctrl+Shift+R` ‚Üí Resetear timer
- `1-7` ‚Üí Incrementar campo (cuando est√° enfocado)

#### Notificaciones
- Alerta cuando timer termina (sonido + popup)
- Recordatorio si no hay actividad en X minutos
- Celebraci√≥n al cumplir meta diaria

#### Sincronizaci√≥n
- Guarda datos localmente
- Sincroniza con la app web principal
- Funciona offline

---

## Arquitectura T√©cnica

### Stack
```
‚îú‚îÄ‚îÄ Electron (app de escritorio)
‚îú‚îÄ‚îÄ React + TypeScript (UI)
‚îú‚îÄ‚îÄ Zustand (estado)
‚îú‚îÄ‚îÄ Tailwind CSS (estilos)
‚îî‚îÄ‚îÄ electron-store (persistencia local)
```

### Estructura de Archivos
```
litper-tracker/
‚îú‚îÄ‚îÄ electron/
‚îÇ   ‚îú‚îÄ‚îÄ main.ts           # Proceso principal
‚îÇ   ‚îú‚îÄ‚îÄ preload.ts        # Bridge seguro
‚îÇ   ‚îî‚îÄ‚îÄ tray.ts           # Icono en bandeja del sistema
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx           # Componente principal
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FloatingTimer.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QuickCounter.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MiniMode.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ExpandedMode.tsx
‚îÇ   ‚îú‚îÄ‚îÄ stores/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ trackerStore.ts
‚îÇ   ‚îî‚îÄ‚îÄ styles/
‚îÇ       ‚îî‚îÄ‚îÄ globals.css
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ electron-builder.json
```

### Caracter√≠sticas Electron
```typescript
// Ventana flotante siempre encima
const win = new BrowserWindow({
  width: 320,
  height: 400,
  alwaysOnTop: true,        // Siempre visible
  frame: false,              // Sin barra de t√≠tulo
  transparent: true,         // Fondo transparente
  resizable: true,
  skipTaskbar: false,        // Mostrar en taskbar
  webPreferences: {
    nodeIntegration: false,
    contextIsolation: true,
    preload: path.join(__dirname, 'preload.js')
  }
});

// Posici√≥n recordada
win.on('moved', () => {
  store.set('windowPosition', win.getPosition());
});
```

---

## Flujo de Usuario

### 1. Inicio de Jornada
1. Abrir app (doble click o atajo)
2. Seleccionar usuario (si hay varios)
3. App se posiciona donde la dejaste

### 2. Durante el Trabajo
1. Iniciar timer (click o atajo)
2. Mientras trabajas, hacer click en [+] para sumar
3. Timer visible siempre encima
4. Cuando termina ‚Üí popup para confirmar datos
5. Guardar ‚Üí siguiente ronda autom√°tica

### 3. Registro R√°pido (Sin Timer)
1. Click en cualquier [+] suma inmediatamente
2. Guardar cuando quieras
3. Ideal para trabajo continuo sin pausas

---

## Dise√±o de Interfaz

### Paleta de Colores
```css
--bg-dark: #1e1e2e;      /* Fondo principal */
--bg-card: #2a2a3e;      /* Tarjetas */
--accent: #f59e0b;       /* √Åmbar - acciones */
--success: #10b981;      /* Verde - realizado */
--danger: #ef4444;       /* Rojo - cancelado */
--info: #3b82f6;         /* Azul - agendado */
--warning: #f97316;      /* Naranja - dif√≠ciles */
--muted: #64748b;        /* Gris - secundario */
```

### Componente QuickCounter
```tsx
// Click izquierdo: +1 / -1
// Click derecho: +5 / -5
// Scroll: +1 / -1
// Click en n√∫mero: editar directo

<QuickCounter
  label="Realizado"
  icon="‚úÖ"
  value={18}
  color="success"
  onChange={(val) => updateField('realizado', val)}
/>
```

### Estados del Timer
| Estado | Color | Acci√≥n |
|--------|-------|--------|
| Idle | Gris | Mostrar "00:00" |
| Running >50% | Verde | Countdown normal |
| Running 25-50% | Amarillo | Alerta media |
| Running 10-25% | Naranja | Urgencia |
| Running <10% | Rojo parpadeante | Casi termina |
| Finished | Rojo + sonido | Popup guardar |

---

## Instaladores

### Windows
- `.exe` instalador
- Portable `.exe` (sin instalar)
- Auto-inicio opcional

### macOS
- `.dmg` para instalar
- App en `/Applications`

### Linux
- `.AppImage` portable
- `.deb` para Debian/Ubuntu

---

## Fases de Desarrollo

### Fase 1: MVP (B√°sico funcional)
- [ ] Ventana flotante b√°sica
- [ ] Contadores con +/-
- [ ] Timer simple
- [ ] Guardar ronda
- [ ] Persistencia local

### Fase 2: Mejoras UX
- [ ] Modo mini/compacto
- [ ] Atajos de teclado globales
- [ ] Posici√≥n recordada
- [ ] Sonidos y notificaciones
- [ ] Transparencia ajustable

### Fase 3: Integraci√≥n
- [ ] Sincronizaci√≥n con app web
- [ ] Selecci√≥n de usuario
- [ ] Historial del d√≠a
- [ ] Estad√≠sticas b√°sicas

### Fase 4: Polish
- [ ] Instaladores para cada OS
- [ ] Auto-actualizaci√≥n
- [ ] Icono en bandeja del sistema
- [ ] Temas (claro/oscuro)

---

## Mockups Detallados

### Vista Normal
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  ‚óè  ‚óè  ‚óè     LITPER Tracker     _ ‚ñ° X ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë                                       ‚ïë
‚ïë         ‚è±Ô∏è  24 : 35                   ‚ïë
‚ïë                                       ‚ïë
‚ïë    [  ‚ñ∂Ô∏è INICIAR  ]  [  üîÑ RESET  ]   ‚ïë
‚ïë                                       ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë  üìã Ronda #3 de hoy                   ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë                                       ‚ïë
‚ïë  Iniciales     [ - ]   25   [ + ]     ‚ïë
‚ïë                                       ‚ïë
‚ïë  ‚úÖ Realizado  [ - ]   18   [ + ]     ‚ïë
‚ïë                                       ‚ïë
‚ïë  ‚ùå Cancelado  [ - ]    3   [ + ]     ‚ïë
‚ïë                                       ‚ïë
‚ïë  üìÖ Agendado   [ - ]    2   [ + ]     ‚ïë
‚ïë                                       ‚ïë
‚ïë  ‚ö†Ô∏è Dif√≠ciles  [ - ]    1   [ + ]     ‚ïë
‚ïë                                       ‚ïë
‚ïë  ‚è≥ Pendientes [ - ]    1   [ + ]     ‚ïë
‚ïë                                       ‚ïë
‚ïë  üëÅÔ∏è Revisado   [ - ]    0   [ + ]     ‚ïë
‚ïë                                       ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë                                       ‚ïë
‚ïë      [  üíæ  GUARDAR RONDA  ]          ‚ïë
‚ïë                                       ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë  Hoy: ‚úÖ 45/50 (90%)    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë    ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

### Vista Mini (Minimizado)
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë ‚è±Ô∏è 24:35  ‚úÖ 18   [+] [üìã]‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```
- Click en [+] ‚Üí suma 1 a Realizado
- Click en [üìã] ‚Üí expande a vista normal
- Arrastrable por cualquier parte

### Vista S√∫per Mini (Solo Timer)
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  ‚è±Ô∏è 24:35  ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

---

## Resumen Ejecutivo

**LITPER Tracker** es una app flotante de escritorio para:
1. **Registrar trabajo r√°pidamente** con clicks
2. **Timer siempre visible** encima de todo
3. **Interfaz m√≠nima** pero completa
4. **Funciona offline** y sincroniza despu√©s
5. **Atajos de teclado** para m√°xima velocidad

### Diferencia vs App Web
| App Web | LITPER Tracker |
|---------|----------------|
| Abrir navegador | Siempre visible |
| Buscar pesta√±a | Un click |
| Formulario largo | Botones +/- |
| Cambiar ventana | Encima de todo |

---

## ¬øEmpezamos?

Dime **"HAZLO"** para comenzar con la Fase 1 (MVP b√°sico funcional).
